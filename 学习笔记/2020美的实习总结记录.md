### 6.11

#### 概况

​		早上过来报道之后认识了一下新同事、之后进行电脑和一些账号的初始化和一些常用软件的准备，并跟同事了解了一些工作文化和考勤制度。下午在虚拟机上搭建好了centos 7  Linux系统，并开始初步了解libevent网络库，初步了解并总结了libevent的一个优势特点、内容组成，并结合之前自己写的服务器作了对比和思考。明天打算结合代码进一步了解libevent如何使用，了解如何使用之后可以进一步阅读libevent源码。

#### 疑问

1.是否需要自己实现一下如何使用libevent（利用libevent实现简易服务器之类）（觉得要，不过要花时间）

2.希望进一步了解智能设备的接入层需要完成什么的流程工作（这个后面再了解也可以）

### 6.12

#### 概况

​		今天了解了接入层工作的概况，了解了为什么需要接入层以及它在整个项目流程中扮演什么角色，因为我大二的时候做过一个嵌入式的设备，涉及到智能设备与服务端的交互，因此还是比较好理解。除此以外，在导师的指导下安装了一些必要的软件，并听导师解释并简单演示了一下简单的工作流程，虽然有些地方听得云里雾里的，但是还是对总的工作流程有了一定的了解，希望可以继续了解下去并有机会为此作出贡献！

​		下午大概看了一下代码的概况，发现量有点多，细读的话不太清楚多久能够完成，并且有些组件还不是很熟悉，只能是边看边学。下午主要是了解学习了RPC的概念作用以及如何实现，晚上吃完饭之后继续回来补了昨天的libevent库的学习，结合代码进行一个更深入的了解，主要是事件通知管理部分的框架函数的学习。感觉内容也不少，估计还要抽时间出来学。

​		怎么没有先看代码呢哈哈哈，我觉得有些组件还不是很熟悉，如果先学习了那些组件之后看接入层代码会更快更容易懂，比如kafka和redis还没怎么了解过，直接看代码可能有点吃力，所以就先简单学学其他组件。

​		每部分的学习我都会做学习笔记，这两天我抽时间把笔记推到github上，导师您可以方便查阅。

#### 明日计划

补充学习libevent，了解kafka，完成新人入职课程

#### 疑问

1. 我这个熟悉代码的学习思路（先学习陌生的组件，再整体了解）是否可以，有没有更好的建议？
2. 预想我熟悉接入层代码的时间是多久？

### 6.13

#### 概况

​		今天补充学习了libevent的学习，结合代码了解了事件处理中event_base、event_new、event_add、event_base_dispatch等函数的作用和逻辑，并结合一个简单的服务器demo理解了使用。然后结合接入层介绍文档开始阅读接入层的代码，从main函数开始，主要是先简单理解了log4cplus的作用，未深究，还有了解了一下main函数里面的信号处理。

#### 遇到的小问题

​		代码中貌似运用了很多网络库，比如一开始就接触到的log4cplus，一开始的时候我都不知道是别人写好的库，还在找函数在哪里实现。在不知情的情况下可能要费点时间去找这些函数有什么功能这样，不过不是大问题，相信可以解决！

### 6.15

#### 概况

​		学习分析了信号的处理以及使用，了解了代码中每个使用到的信号的作用并作了一定的注释和记录。然后比较详细地看了init_config函数（当时以为是相对重点的函数，没想到主逻辑都还没看），了解了函数如何进行配置以及简单看了一些关联的类。另外还需要完成9个新人入职的课程，花了一点时间。

​		今天的话在非重点的地方花的时间有点多了，然后可能效率也略低，明天的话再继续调整一下，争取把整体框架逻辑理清！继续加油！

#### 遇到的问题以及规划

​		有些地方不知道初始化了什么东西，以及初始化了的东西在哪里使用（已反映）；明天的话，一些初始化以及其他比较细节的地方先不细看，大概知道这个大的函数有什么功能即可，先去了解主要的逻辑框架。

### 6.16

#### 概况

​		今天还是主要看代码，基本上解决了ServiceStart这个函数，对整个服务器的框架有了一定的了解，初步了解的话整个接入层代码分为注册部分RegisterClient，业务分发部分CommandDispatch和服务器连接IO部分pMyServer，这三个部分主要的函数组成以及跳转都先简单过了一遍。经过这些代码的阅读，对前面的一些配置也有了新的理解。

#### 遇到的问题以及规划

​		有某些代码段不是很好理解，还有的话我觉得先细读pMyServer这部分会比较好，这个过程应该会应用到业务注册和分发，更好地结合前面的部分一起理解，明早的话希望可以跟导师确认一下我的思路是否正确，以便效率更高地进行阅读。

### 6.17

#### 概况

​		今天主要是看了服务器处理的主要几个逻辑函数，包括监听套接字的创建以及线程的创建与释放，还有一个核心的线程的主要处理函数。线程处理函数的跳转以及涉及到的函数都简单的过了一遍，在哪里进行连接的创建以及任务的分发都有了一定的了解。中间有不熟悉的函数都有简单地了解了一下并记录下来。初次之外，今天对之前存在的疑问都向导师了解了一下，心里面对接入层服务器框架更加清晰了。

#### 遇到的问题以及规划

​		主要是一些小疑问，另外就是对主要框架的了解有一点点疑问，还有没看到的读写部分。今天也跟导师了解过了，暂时没有什么大的疑问。明天的话打算根据接受连接建立过程框架图中提到的函数逐渐细看，以及记录一些关键步骤。

### 6.18

#### 概况

​        今天按照昨天的计划，根据“接入层介绍”文档的框图去仔细理了一下流程和一些重点函数的细节，现在基本上了解了整个服务器怎么何时初始化，如何建立线程，如何将IO事件分发给不同的线程以及分发后何时进行相应的读写。

#### 遇到的问题以及规划

​		今天主要是在主线程怎么把IO任务交送给其他线程纠结了比较久。因为我之前实现过的服务器也是类似这样主线程处理监听事件，其他线程处理IO读写，然后我当时是接收到一个新的套接字之后，先选择了相应的线程再建立连接处理任务，然后今天就一直在找在哪里分发了新的套接字，想着应该是带有一个线程标识符来分配的，后来才发现是用的管道来进行线程间通信。

​		明天的话打算看看服务器跟客户端进行怎样的处理，有什么样的交互。以及补充一些管道通信和读写的细节理解。

### 6.19

#### 概况

​		今天早上听了一下周会，然后下午又有吃水果活动，多少耽误了一点时间，嘿嘿。今天的话主要是看了notifyHandler函数，就是处理通知过来的套接字，进行读写的操作。写函数的话主要是回复，不涉及到复杂的处理，主要是读函数，现在只看到了读函数进行一个数据缓存和数据分析，数据的具体分析还没看。

#### 遇到的问题以及规划

​        除了有一些地方理解得不是很清晰之外，其他都还行，可能比较大的问题就是阅读速度略慢了吧哈哈，其他部分的星期五晚上杜英姐也给我讲解完了。下周的话具体看数据如何分析以及流走，尽量加快一点速度。

### 6.22

#### 概况

​		今天早上的话简单了解了一下导师给出的一个问题，简单看了一下那部分的代码，然后上网查找了一下coredrum可能的原因，结合了问题找到了一个貌似的适合的解决方案，也不知道行不行hhh，我还是老老实实继续看代码吧。

​		下午的话主要看了readHandler以及其里面的一些函数，简单了解了一下分析数据的表层吧，现在是看到了nonSstDataParse里面的函数，大方向也看过了一遍，可是有些地方不是很理解，影响整体的理解。

#### 遇到的问题以及规划

主要有以下四个疑问

1. resetConnection函数具体作用未详细看

2. parse_pkg函数的判断与返回值处理不是很理解，还有结构体的转换
3. 这个dataParse最后函数又会执行到dataParse，有点费解，走sstDataParse也一样

4. automic exchange函数的具体作用比较难理解，网上搜了也讲不清楚的

明天的话打算把nonSstDataParse和SstDataParse理解透彻

### 6.23

#### 概况

​		今天主要是比较详细地看了nonSstDataParse函数的逻辑以及m_msmart_parser.parse如何对数据头进行校验，然后也看了一部分长达七百多行的pre_process_msg函数。。。另外还简单了解了处理数据完成之后的数据提交流程和在哪里取出。

#### 遇到的问题以及规划

​		没有完成昨天的预计，因为pre_process_msg函数太长了，还有的话就是感觉接下来的东西就涉及到比较细致的处理了，内容的处理很多，感觉要花的时间应该会比较多，还有不知道要看的内容有多少，是否需要取舍一下还是继续往下看。明天的话打算看完pre_process_msg函数然后尽量把SstDataParse也看看。

​		另外还有几个代码理解的小问题，可以明天讨论。

### 6.24

#### 概况

​       今天主要是看pre_process_msg函数，熟悉不同类型的数据进行何种处理，如前期数据的校验，登录时的匹配等。

#### 遇到的问题以及规划

​        数据的具体处理多而杂，阅读起来可能会有一点困难，另外的话登录数据的缓存和业务层取数据部分还需要进一步了解，其他暂时没有什么问题。